<!--
Copyright (c) 2013 ZionSoft. All rights reserved.
Use of this source code is governed by a BSD-style license
that can be found in the LICENSE file.
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>ZionSoft</title>
  <link rel="icon" type="image/x-icon" href="/view/favicon.ico" />
  <script type="text/javascript">
    function createCell(text) {
      cell = document.createElement("td");
      txt = document.createTextNode(text);
      cell.appendChild(txt);
      return cell;
    }

    function loadTranslations() {
      xhr = new XMLHttpRequest();
      xhr.onreadystatechange = function() {
        if (xhr.readyState == 4 && xhr.status == 200) {
          response = JSON.parse(xhr.responseText)
          translations = document.getElementById("translations");
          for (var i = 0; i < response.length; ++i) {
            obj = response[i];
            row = document.createElement("tr");
            row.appendChild(createCell(obj.uniqueId));
            row.appendChild(createCell(obj.name));
            row.appendChild(createCell(obj.shortName));
            row.appendChild(createCell(obj.language));
            row.appendChild(createCell(obj.size));
            row.appendChild(createCell(obj.timestamp));
            row.appendChild(createCell(obj.blobKey));
            translations.appendChild(row);
          }
        }
      }
      xhr.open("GET", "/1.0/translations", true);
      xhr.send();
    }
  </script>
</head>
<body onload="loadTranslations()">
  <h2>Existing Translations</h2>
  <table id="translations" border="1">
    <tr><th>Unique ID</th><th>Name</th><th>Short Name</th><th>Language</th><th>Size</th><th>Timestamp</th><th>Blob Key</th></tr>
  </table>
  <h2>Add a New Translation</h2>
  <form action="/admin/uploadTranslation" method="post" enctype="multipart/form-data">
    <div><input type="file" name="translation" size="40" /></div>
    <div><input type="submit" value="Submit" /></div>
  </form>
</body>
</html>
